<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="https://image.flaticon.com/icons/svg/1127/1127839.svg"
    />
    <!-- <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    /> -->
    <link rel="stylesheet" href="style.css" />
    <title>Tripping</title>
  </head>
  <body>
    <!-- left side bar -->
    <div id="side-bar"></div>

    <!---map container--->
    <div id="map"></div>

    <script id="all-trips-template" type="text/x-handlebars">
      <!-- <h3>My Trips</h3> -->
      <div id="mytrips">
        <div class="navHeader">
          <div id="newTripBtn" class="addButton"><i class="fas fa-plus"></i></div>
            <h3>My trips</h3>
        </div>
        {{#each trip}}
          <div class="trip card" data-name="{{name}}">
              <p class="trip-name">{{name}}</p>
          </div>
        {{/each}}
      </div>
      </div>
    </script>

    <script id="add-trip-template" type="text/x-handlebars">
      <div id="createName">
        <!-- <h3>Create New Trip</h3> -->
        <!-- <h5>Set trip name:</h5> -->
        <div class="navHeader">
          <div id="backToTripsBtn" class="back"><i class="fas fa-chevron-left"></i></div>
          <input type="text" id="trip-name-input" placeholder="Enter trip name">
          <div id="saveTripBtn"><i class="fas fa-check"></i></div>
        </div>
      </div>
    </script>

    <script id="main-trip-template" type="text/x-handlebars">
      <div id="trip-spots" data-tripname="{{name}}">
        <div class="navHeader">
          <div id="backToTripsBtn" class="back"><i class="fas fa-chevron-left"></i></div>
          <div id="editTrip"><i class="far fa-edit"></i></div>
            <h3>{{name}}</h3>
          </div>
          <div id="newSpotBtn" class="card"> <p class="title">Add New Spot</p> <i class="fas fa-map-pin"></i></div>
          {{#each spots}}
          <div class="trip-spot card" data-name="{{name}}">
              <p class="spot-name">{{name}}</p>
          </div>
          {{/each}}
      </div>
    </script>

    <script id="edit-trip-template" type="text/x-handlebars">
      <div id="edit-trip" data-tripname="{{name}}">
        <div id=change class="navHeader">
          <div id="editDone" class="back"><i class="fas fa-chevron-left"></i></div>
          <p>Trip Name:</p>
          <div id="deleteTrip"><i class="far fa-trash-alt"></i></div>
         <input class="changeName" type="text" value="{{name}}">
        </div>
        {{#each spots}}
        <div class="spot card" data-name="{{name}}">
          <p class="spot-name">{{name}}</p>
          <p class="deleteSpot"><i class="far fa-trash-alt"></i></p>
        </div>
        {{/each}}
      </div>
    </script>

    <script id="main-spot-template" type="text/x-handlebars">
        <div class="info-window" data-spotname="{{name}}" data-tripname="{{trip}}">
      <h5>{{name}}:</h3>
        {{#if date}}
      <p>{{date}}</p>
        {{/if}}
      <p>Experience in Words:</p>
      <div class="comments">
          {{comment}}
      </div>
      {{#if photos}}
      <div class="spot-photos">
          Photos:
          <div>
              {{photos}}
          </div>
      </div>
      {{/if}}
      <button class="edit-spot">Edit</button>
        </div>
    </script>

    <script id="spot-edit-template" type="text/x-handlebars">
        <div class="info-window-edit" data-spotname="{{name}}" data-tripname="{{trip}}">
            <input type="text" value="{{name}}" id="edited-spot-name-input">
              {{#if date}}
            <p>{{date}}</p>
              {{/if}}
              <input type="date" id="edited-spot-date-input">
            <p>Experience in Words:</p>
            <div class="comments">
                <input type="text" id="edited-spot-comment-input" value="{{comment}}">
            </div>
            {{#if photos}}
            <div class="spot-photos">
                Photos:
                <div>
                    {{photos}}
                </div>
            </div>
            {{/if}}
            <div class="uploader-button" id="link-google-photos">
                <input 
                  type="hidden"
                  role="uploadcare-uploader"
                  data-tabs="file camera facebook instagram dropbox gdrive gphotos" />
            </div>
            <button id="editedSaveSpotBtn">Save Spot</button>
              </div>
    
    
    </script>


    <script id="spot-search-template" type="text/x-handlebars">
      <div class="new-spot" data-tripname="{{name}}">
        <div class="navHeader">
          <div id="back-to-current-trip" class="back"><i class="fas fa-chevron-left"></i></div>
          <input type="text" name="" id="spot-search-input" placeholder="Find Location">
          <div id="spot-search-btn"><i class="fas fa-search"></i></div>
        </div>
            <div id="spot-directions">
              <h4>Drop a pin on the map and click next</h4>
            </div>
          <div id="my-location" class="button">Use My Location</div> <!--data-tripname="{{name}}"-->
          <div id="set-spot-coords"><i class="fas fa-chevron-right"></i></div> <!--data-tripname="{{name}}"-->
      </div>
    </script>

    <script id="new-spot-template" type="text/x-handlebars">
      <div class="new-spot" data-tripname="{{name}}">
          <h4>{{name}}</h4>
          <h6>Double click on the map to choose your spot!</h6>
          <input type="text" name="" id="spot-name-input" placeholder="Name Your Spot">
          <span class="when">Start Date</span><input type="date" id="spot-date" />
          <textarea id="new-comment-input" type="text" placeholder="Describe your experience" cols="50" rows="4"></textarea>
          <div class="spot-photos">
              <!-- <button id="link-google-photos"></button>
              <label for="myfile">Select a file:</label>
              <input type="file" id="myphotos" name="myphotos" multiple> -->
              <button id="saveSpotBtn">Save Spot</button>
              <button id="back-to-current-trip">Go Back</button>
          </div>
      </div>
    </script>
    <script>UPLOADCARE_PUBLIC_KEY = 'd4f4214e69c1587a5202'</script>
    <script>UPLOADCARE_LOCALE_TRANSLATIONS = {buttons: {choose: {files: {one: 'Upload image'}}}}</script>
    <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
    <script src="GeoLocation.js"></script>
    <script src="https://use.fontawesome.com/releases/v5.12.1/js/all.js"></script>
    <script src="./handlebars/dist/handlebars.js"></script>
    <script src="./jquery/dist/jquery.js"></script>
    <script src="Trip.js"></script>
    <script src="Spot.js"></script>
    <script src="Renderer.js"></script>
    <script src="TripManager.js"></script>
    <script src="Map.js"></script>
    <script src="main.js"></script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD_JqNqDOBblSYEmRe_ZdqVI83c9zN92Lk&callback=loadMap"
    ></script>
  </body>
</html>
